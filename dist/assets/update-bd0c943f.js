import{p as ee,r as s,u as te,H as I,o as ae,b as m,d as p,e as c,C as P,w as x,h as a,L as oe,i as u,f as r,t as h,n as _,j as k,k as $,F as z}from"./index-a963b12f.js";import{S as le,a as se,P as ne,N as ie,A as de}from"./autoplay-5106414e.js";import"./pagination-25b2bd0b.js";import{L as ue,O as ce}from"./index.es-9960bc8b.js";const re={class:"flex justify-center"},ve=["onSubmit"],pe={class:"w-full flex justify-between"},me=a("h2",{class:"text-xl font-bold"}," Update attracives ",-1),_e={class:""},ge=a("label",{for:"password"},"Name ",-1),he={key:0,class:"mt-1 mb-5 text-red-500"},fe={class:""},ye=a("label",{for:"password"},"Description ",-1),be={key:0,class:"mt-1 mb-5 text-red-500"},we={class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},xe={class:""},Le=a("label",{for:"password"},"Lang ",-1),Ve={key:0,class:"mt-1 mb-5 text-red-500"},ke={class:""},Se=a("label",{for:"password"},"Late ",-1),Ue={key:0,class:"mt-1 mb-5 text-red-500"},Ce={class:"flex justify-between mt-4 w-[80%]"},je={class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},Be=a("p",{class:"py-2 mx-2"},"Country",-1),Te={key:0,class:"mt-1 mb-5 text-red-500"},Ne=a("p",{class:"py-2 my-auto mx-3"},"City ",-1),De={key:0,class:"mt-1 mb-5 text-red-500"},Re=a("div",{class:"flex justify-center my-5"},null,-1),Ae=a("label",{class:"py-2"},"Upload images",-1),Fe=["src"],Ie={class:"text-center bg-teal-100 rounded-3xl m-2"},Pe={class:"bg-white rounded-3xl w-full m-auto"},$e=["src"],ze=["onClick","value"],Oe=a("svg",{width:"20px",height:"20px",viewBox:"0 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),a("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),a("g",{id:"SVGRepo_iconCarrier"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z",fill:"#ffffff"})])],-1),Ee=[Oe],He={setup(Ge){const O=[ne,ie,de],E=ee(),S=s(null),o=s({name:"",description:"",long:"",lat:"",images:[],aval_status:!0,info_status:!0}),G=s({lat:20,lng:20});s([{lat:37.772,lng:-122.214},{lat:21.291,lng:-157.821},{lat:-18.142,lng:178.431},{lat:-27.467,lng:153.027}]);const g=s(""),U=s([]),f=s(""),C=te(),M=s(0),y=s([]),B=s(""),j=s([]),n=s(""),i=s({});s(0),s(0);const b=s([]),Q=s([{name:"English",value:"gb"},{name:"Arabic",value:"sa"},{name:"Azerbaijan",value:"az"},{name:"Georgia",value:"ge"},{name:"Russia",value:"ru"},{name:"Turkey",value:"tr"}]),v=s("gb"),q=t=>{o.value.long=t.hb.x,o.value.lat=t.hb.y,console.log(t.hb.x)},W=t=>{console.log(t.files[0]),b.value=t.files,B.value=t.files;for(let e=0;e<b.value.length;e++)j.value.push(URL.createObjectURL(b.value[e]));console.log(j.value)},Z=t=>{console.log(t),m.post(`/api/accommodition/delete_image/${t}`).then(e=>{y.value=e.data.countries,console.log(y.value)}),setTimeout(()=>{m.get(`/api/attracives/${C.params.id}`).then(e=>{var d;console.log(e.data.message),S.value=(d=e.data.attractiveLocation)==null?void 0:d.photos,o.value.name=e.data.attractiveLocation.name[v.value],o.value.description=e.data.attractiveLocation.description[v.value],g.value=e.data.attractiveLocation.country_id,f.value=e.data.attractiveLocation.city_id,o.value.long=e.data.attractiveLocation.long,o.value.lat=e.data.attractiveLocation.lat,i.value=e.data.attractiveLocation,console.log("asccsa"),console.log(i.value.photos[0])})},200)},H=()=>{const t=new FormData;for(let e=0;e<b.value.length;e++)t.append("images[]",b.value[e]);t.append("name",o.value.name),t.append("description",o.value.description),t.append("country_id",g.value),t.append("state_id",f.value),t.append("long",o.value.long),t.append("lat",o.value.lat),m.defaults.headers.common.local=v.value,m.post(`/api/attracives/${i.value.id}/update`,t).then(e=>{E.add({severity:"success",summary:"Successful",detail:"attracives  update",life:3e3}),n.value=[],M.value=1;let d=i.value.media;i.value=e.data.attractives,i.value.media=d}).catch(e=>{n.value=e.response.data.errors,console.log(n.value)})};return I(g,async(t,e)=>{console.log("hello "),m.get(`/api/state/${t}`).then(d=>{U.value=d.data.states,console.log(U.value)})}),I(v,async(t,e)=>{var d,L,V,w;console.log(i.value),o.value.name=((d=i.value)==null?void 0:d.name[t])==null?"":(L=i.value)==null?void 0:L.name[t],o.value.description=((V=i.value)==null?void 0:V.description[t])==null?"":(w=i.value)==null?void 0:w.description[t]}),ae(()=>{m.get("/api/countries").then(t=>{y.value=t.data.countries,console.log(y.value)}),console.log(C.params.id),m.get(`/api/attracives/${C.params.id}`).then(t=>{var e;console.log(t.data.message),S.value=(e=t.data.attractiveLocation)==null?void 0:e.photos,o.value.name=t.data.attractiveLocation.name[v.value],o.value.description=t.data.attractiveLocation.description[v.value],g.value=t.data.attractiveLocation.country_id,f.value=t.data.attractiveLocation.city_id,o.value.long=t.data.attractiveLocation.long,o.value.lat=t.data.attractiveLocation.lat,i.value=t.data.attractiveLocation,console.log("asccsa"),console.log(i.value.photos[0])})}),(t,e)=>{const d=p("Dropdown"),L=p("InputText"),V=p("Textarea"),w=p("InputNumber"),J=p("FileUpload"),K=p("Button"),Y=p("Toast"),X=p("va-card");return c(),P(X,{class:"card"},{default:x(()=>{var T,N,D,R,A,F;return[a("div",re,[a("form",{onSubmit:oe(H,["prevent"]),class:"flex flex-col w-3/4 py-9"},[a("div",pe,[me,u(d,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l),editable:"",options:Q.value,optionLabel:"name","option-value":"value",class:"w-36 mx-3"},null,8,["modelValue","options"])]),a("div",_e,[ge,u(L,{modelValue:o.value.name,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.name=l),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(T=n.value)!=null&&T.name?(c(),r("div",he,h(n.value.name[0]),1)):_("",!0)]),a("div",fe,[ye,u(V,{rows:"5",cols:"30",modelValue:o.value.description,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.description=l),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(N=n.value)!=null&&N.description?(c(),r("div",be,h(n.value.description[0]),1)):_("",!0)]),a("div",we,[a("div",null,[u(k(ce),{class:"my-3","api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",onClick:q,style:{width:"100%",height:"300px"},center:G.value,zoom:2},{default:x(()=>[u(k(ue),{options:t.flightPath},null,8,["options"])]),_:1},8,["center"])]),a("div",null,[a("div",xe,[Le,u(w,{readonly:"true",modelValue:o.value.long,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.long=l),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(D=n.value)!=null&&D.long?(c(),r("div",Ve,h(n.value.long[0]),1)):_("",!0)]),a("div",ke,[Se,u(w,{readonly:"true",modelValue:o.value.lat,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.lat=l),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(R=n.value)!=null&&R.lat?(c(),r("div",Ue,h(n.value.lat[0]),1)):_("",!0)]),a("div",Ce,[a("div",je,[a("div",null,[Be,u(d,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=l=>g.value=l),editable:"",options:y.value,optionLabel:"country","option-value":"country_id",class:"w-44 mx-3"},null,8,["modelValue","options"]),(A=n.value)!=null&&A.country_id?(c(),r("div",Te,h(n.value.country_id[0]),1)):_("",!0)]),a("div",null,[Ne,u(d,{modelValue:f.value,"onUpdate:modelValue":e[6]||(e[6]=l=>f.value=l),editable:"",options:U.value,optionLabel:"state","option-value":"state_id",class:"w-44 mx-3"},null,8,["modelValue","options"]),(F=n.value)!=null&&F.city_id?(c(),r("div",De,h(n.value.city_id[0]),1)):_("",!0)])])])])]),Re,a("div",null,[Ae,u(J,{id:"password",onUploader:W,accept:"image/*",required:"true",multiple:"true","custom-upload":!0,autofocus:""},{empty:x(()=>[B.value.value!=""?(c(!0),r(z,{key:0},$(j.value,l=>(c(),r("img",{src:l,class:"w-[200px] h-[90px] mb-3"},null,8,Fe))),256)):_("",!0)]),_:1}),u(k(se),{onSlideChange:t.onSlideChange,navigation:!0,options:t.swiperOptions,modules:O,scrollbar:{draggable:!0},autoplay:{delay:2e3,disableOnInteraction:!1},breakpoints:{320:{slidesPerView:2,spaceBetween:10},480:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:10}}},{default:x(()=>[(c(!0),r(z,null,$(S.value,l=>(c(),P(k(le),null,{default:x(()=>[a("div",Ie,[a("div",Pe,[a("img",{class:"relative rounded-md",style:{height:"150px !important"},src:l},null,8,$e),a("button",{class:"absolute top-[7%] left-[5%] bg-[#861d1d] p-2 px-4 rounded-full",onClick:Me=>Z(l.id),value:l.id},Ee,8,ze)])])]),_:2},1024))),256))]),_:1},8,["onSlideChange","options"])]),u(K,{style:"",type:"submit",label:"Submit",class:"mt-3 focus:ring-0"})],40,ve)]),u(Y)]}),_:1})}}};export{He as default};
